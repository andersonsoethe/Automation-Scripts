<!--
  Detalhamento da chamada:

  type="onblur;onclick;onstart": Informa em qual situação o web service será disparado, onde onblur é ao tirar o foco do campo que tem a chamada do web service, onclick ao clicar no campo, onstart. Definir em quais situações o web service será iniciado.
  Além destes, também temos o onchange, que pode ser colocado na parte de parameters para informar que quando valor do parametro mudar o web service é executado, exemplo: <add name="CD_MATERIAL_SUBGROUP" onchange="true" question="CD_MATERIAL_SUBGROUP" />
  
  send: Informa que a comunicação será com o protocolo SOAP.
   url: Informa a URL que será utilizada. Recomendamos que seja criado uma variável para a URL, no Requestia, em Administração > Aplicação > Variáveis. No e-mail encaminho print de exemplo.
   no-check-certificate: Informa que o certificado SSL não será validado ... o correto é que a URL da philips tenha um certificado SSL para prover maior segurança, porém caso não tenha deixar o no-check-certificate=true
   timeout: Tempo de timeout da chamada em minutos
   securityProtocolType: Procóloco de segurança na comunicação. Neste caso colocamos para a chamada funcione com os protocólos(SSL3, TLS, TLS 1.1, TLS 1.2)
   soapversion: Versão 1.1 do Soap que é definido no web service da philips.
   TAG <body>: Onde é inserida o envelope SOAP ao qual será utilizado para Requisição. Observe que temos parametros que deixei como fixo e outros que são buscados de acordo com a sessão parameters que por sua vez busca de questões de formulário.
   TAG parameters: Informa os parametros que serão utilizados, neste caso buscando a informação de questões do formulário.
   TAG returns: Busca no retorno do web service os valores e preenche questões do formulário.
-->

<?xml version="1.0" encoding="utf-8"?>
<control>
  <services type="onblur;onclick;onstart">
    <method send="Soap" url="{url:philipsstandardintegrator}" no-check-certificate="true" timeout="60" securityProtocolType="4080" soapversion="1.1">
      <body>
        <![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:phil="http://philipsstandardintegratorobject.philips.com/">
   <soapenv:Header/>
   <soapenv:Body>
      <phil:integrationObject>
         <STRUCTURE>
            <ID_EVENT>332</ID_EVENT>
            <ID_APPLICATION>2</ID_APPLICATION>
            <ID_ORIGIN>0</ID_ORIGIN>
            <FILTERS>
               <CD_MATERIAL_SUBGROUP><%=CD_MATERIAL_SUBGROUP%></CD_MATERIAL_SUBGROUP>
               <DS_MATERIAL_SUBGROUP><%=DS_MATERIAL_SUBGROUP%></DS_MATERIAL_SUBGROUP>
               <CD_GROUP_MATERIAL><%=CD_GROUP_MATERIAL%></CD_GROUP_MATERIAL>
               <IE_STATUS><%=IE_STATUS%></IE_STATUS>
               <NM_USER/>
            </FILTERS>
         </STRUCTURE>
      </phil:integrationObject>
   </soapenv:Body>
</soapenv:Envelope>]]>
      </body>
      <parameters>
        <add name="CD_MATERIAL_SUBGROUP" question="CD_MATERIAL_SUBGROUP" />
        <add name="DS_MATERIAL_SUBGROUP" question="DS_MATERIAL_SUBGROUP" />
        <add name="CD_GROUP_MATERIAL"    question="CD_GROUP_MATERIAL" />
        <add name="IE_STATUS"            question="IE_STATUS" />
      </parameters>
      <returns path="//STRUCTURE" node="FILTERS">
        <add question="CD_MATERIAL_SUBGROUP_RET"      column="CD_MATERIAL_SUBGROUP" />
        <add question="DS_MATERIAL_SUBGROUP_RET"      column="DS_MATERIAL_SUBGROUP"  />
        <add question="CD_MATERIAL_GROUP_RET"         column="CD_MATERIAL_GROUP" />
        <add question="IE_STATUS_RET"                 column="IE_STATUS" />
        <add question="DT_ATUALIZACAO_RET"            column="DT_ATUALIZACAO" />
        <add question="NM_USER_RET"                   column="NM_USER" />
        <add question="CD_GENERAL_LEDGER_ACC_RET"     column="CD_GENERAL_LEDGER_ACC" />
        <add question="CD_PREVIUS_SYSTEM_RET"         column="CD_PREVIUS_SYSTEM" />
      </returns>
    </method>
  </services>
</control>