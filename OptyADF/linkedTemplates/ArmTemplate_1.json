{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory Name",
			"defaultValue": "OptyADF"
		},
		"CloudTasyProd_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'CloudTasyProd'"
		},
		"CloudTasyProd_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'CloudTasyProd_NEW'"
		},
		"Folder_Nexcore_Consolidado_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'Folder_Nexcore_Consolidado'"
		},
		"Folder_Requestia_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'Folder_Requestia'"
		},
		"SMARTProd_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMARTProd'"
		},
		"SMART_HOSL_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_HOSL'"
		},
		"SMART_HOSL_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_HOSL_NEW'"
		},
		"SMART_INOB_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_INOB'"
		},
		"SMART_INOB_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_INOB_NEW'"
		},
		"SMART_IOF_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_IOF'"
		},
		"SMART_IOF_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_IOF_NEW'"
		},
		"SMART_ITABUNA_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_ITABUNA'"
		},
		"SMART_ITABUNA_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_ITABUNA_NEW'"
		},
		"SMART_ITAIGARA_NEW_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMART_ITAIGARA_NEW'"
		},
		"SadallaSeniorProd_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SadallaSeniorProd'"
		},
		"SadallaSeniorTeste_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SadallaSeniorTeste'"
		},
		"Folder_Nexcore_Consolidado_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "C:\\Power BI Gateway Files\\Nexcore\\Consolidado"
		},
		"Folder_Nexcore_Consolidado_properties_typeProperties_userId": {
			"type": "string",
			"defaultValue": "hobrasil\\sergio.queiroz"
		},
		"Folder_Requestia_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "C:\\Power BI Gateway Files\\Requestia"
		},
		"Folder_Requestia_properties_typeProperties_userId": {
			"type": "string",
			"defaultValue": "hobrasil\\sergio.queiroz"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/TABLE_QANSWER')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Requestia"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "QSESSION",
						"type": "varchar"
					},
					{
						"name": "QUESTION",
						"type": "varchar"
					},
					{
						"name": "QANSWER",
						"type": "varchar"
					},
					{
						"name": "QANSWERED",
						"type": "varchar"
					},
					{
						"name": "QANSWERDATE",
						"type": "varchar"
					},
					{
						"name": "QSHOW",
						"type": "varchar"
					},
					{
						"name": "QORDER",
						"type": "varchar"
					},
					{
						"name": "QUPDATED",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "REQUESTIA_QANSWER"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TABLE_QSESSION')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Requestia"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "QSESSION",
						"type": "varchar"
					},
					{
						"name": "QSESSIONTITLE",
						"type": "varchar"
					},
					{
						"name": "QCLIENT",
						"type": "varchar"
					},
					{
						"name": "QFORM",
						"type": "varchar"
					},
					{
						"name": "QVERSION",
						"type": "varchar"
					},
					{
						"name": "QSTATUS",
						"type": "varchar"
					},
					{
						"name": "QANSWERDATE",
						"type": "varchar"
					},
					{
						"name": "QEXPDATE",
						"type": "varchar"
					},
					{
						"name": "QAPPLICATION",
						"type": "varchar"
					},
					{
						"name": "QSURVEYTYPE",
						"type": "varchar"
					},
					{
						"name": "REQLOCATION",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "REQUESTIA_QSESSION"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TABLE_QTABLEANSWER')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Requestia"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "QSESSION",
						"type": "varchar"
					},
					{
						"name": "TABLE_NAME",
						"type": "varchar"
					},
					{
						"name": "TABLE_ROWID",
						"type": "varchar"
					},
					{
						"name": "TABLE_ROWNUM",
						"type": "varchar"
					},
					{
						"name": "COLUMN_NAME",
						"type": "varchar"
					},
					{
						"name": "COLUMN_VALUE",
						"type": "varchar"
					},
					{
						"name": "COLUMN_POSITION",
						"type": "varchar"
					},
					{
						"name": "COLUMN_ANSWERED",
						"type": "varchar"
					},
					{
						"name": "COLUMN_ANSWERDATE",
						"type": "varchar"
					},
					{
						"name": "COLUMN_UPDATED",
						"type": "varchar"
					},
					{
						"name": "COLUMN_VISIBLE",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "REQUESTIA_QTABLEANSWER"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TABLE_REQUESTS')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Requestia"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "REQUEST",
						"type": "varchar"
					},
					{
						"name": "CLIENT",
						"type": "varchar"
					},
					{
						"name": "ORIGANAL",
						"type": "varchar"
					},
					{
						"name": "CURRANAL",
						"type": "varchar"
					},
					{
						"name": "GROUPANAL",
						"type": "varchar"
					},
					{
						"name": "LASTANAL",
						"type": "varchar"
					},
					{
						"name": "LASTANLGRP",
						"type": "varchar"
					},
					{
						"name": "ORIGGROUP",
						"type": "varchar"
					},
					{
						"name": "CURRGROUP",
						"type": "varchar"
					},
					{
						"name": "LASTGROUP",
						"type": "varchar"
					},
					{
						"name": "CATEGORY",
						"type": "varchar"
					},
					{
						"name": "PRODUCT",
						"type": "varchar"
					},
					{
						"name": "PROCESS",
						"type": "varchar"
					},
					{
						"name": "RSTATUS",
						"type": "varchar"
					},
					{
						"name": "RPRIORITY",
						"type": "varchar"
					},
					{
						"name": "REQTYPE",
						"type": "varchar"
					},
					{
						"name": "REQSOURCE",
						"type": "varchar"
					},
					{
						"name": "REQLOCATION",
						"type": "varchar"
					},
					{
						"name": "ORGUNIT",
						"type": "varchar"
					},
					{
						"name": "ORGUNIT_ROOT",
						"type": "varchar"
					},
					{
						"name": "ABSTRACT",
						"type": "varchar"
					},
					{
						"name": "DESCRIPT",
						"type": "varchar"
					},
					{
						"name": "OPENDATE",
						"type": "varchar"
					},
					{
						"name": "CLOSEDATE",
						"type": "varchar"
					},
					{
						"name": "CLOSED",
						"type": "varchar"
					},
					{
						"name": "LASTACTION",
						"type": "varchar"
					},
					{
						"name": "LASTANALYST",
						"type": "varchar"
					},
					{
						"name": "LASTSTATUS",
						"type": "varchar"
					},
					{
						"name": "LASTPRIORITY",
						"type": "varchar"
					},
					{
						"name": "LASTREOPEN",
						"type": "varchar"
					},
					{
						"name": "LASTACTIONATEND",
						"type": "varchar"
					},
					{
						"name": "LASTACTTYPE",
						"type": "varchar"
					},
					{
						"name": "RESPDATE",
						"type": "varchar"
					},
					{
						"name": "RESPTIME",
						"type": "varchar"
					},
					{
						"name": "RESLTIME",
						"type": "varchar"
					},
					{
						"name": "RESPMINS",
						"type": "varchar"
					},
					{
						"name": "RESLMINS",
						"type": "varchar"
					},
					{
						"name": "RESPREMAINS",
						"type": "varchar"
					},
					{
						"name": "RESLREMAINS",
						"type": "varchar"
					},
					{
						"name": "RESPMODE",
						"type": "varchar"
					},
					{
						"name": "RESLMODE",
						"type": "varchar"
					},
					{
						"name": "NOCOMPUTE",
						"type": "varchar"
					},
					{
						"name": "APROVANLTYPE",
						"type": "varchar"
					},
					{
						"name": "APROVCLITYPE",
						"type": "varchar"
					},
					{
						"name": "MLEVELAPROV",
						"type": "varchar"
					},
					{
						"name": "CLIENTAPROV",
						"type": "varchar"
					},
					{
						"name": "PACKAGE",
						"type": "varchar"
					},
					{
						"name": "WORKFLOW",
						"type": "varchar"
					},
					{
						"name": "LASTSEVENT",
						"type": "varchar"
					},
					{
						"name": "REQWORKFLOW",
						"type": "varchar"
					},
					{
						"name": "ORIGCATEGORY",
						"type": "varchar"
					},
					{
						"name": "ORIGPRODUCT",
						"type": "varchar"
					},
					{
						"name": "ORIGPROCESS",
						"type": "varchar"
					},
					{
						"name": "TOTALATTACH",
						"type": "varchar"
					},
					{
						"name": "TOTALATTACHACT",
						"type": "varchar"
					},
					{
						"name": "INSERTDATE",
						"type": "varchar"
					},
					{
						"name": "QFORM",
						"type": "varchar"
					},
					{
						"name": "QSURVEY",
						"type": "varchar"
					},
					{
						"name": "QSESSIONFORM",
						"type": "varchar"
					},
					{
						"name": "QSESSIONSURVEY",
						"type": "varchar"
					},
					{
						"name": "REQUESTFLAGS",
						"type": "varchar"
					},
					{
						"name": "V_ASSOCIATION",
						"type": "varchar"
					},
					{
						"name": "V_HAS_APPROVER",
						"type": "varchar"
					},
					{
						"name": "LASTSEQUENCE",
						"type": "varchar"
					},
					{
						"name": "LASTRECALCDATE",
						"type": "varchar"
					},
					{
						"name": "LASTAPPROVCNTX",
						"type": "varchar"
					},
					{
						"name": "LASTAPPROVUSER",
						"type": "varchar"
					},
					{
						"name": "LASTAPPROVCODE",
						"type": "varchar"
					},
					{
						"name": "CURRAPPROVCODE",
						"type": "varchar"
					},
					{
						"name": "ORIGNOCOMPUTE",
						"type": "varchar"
					},
					{
						"name": "ORIGRSTATUS",
						"type": "varchar"
					},
					{
						"name": "ORIGRPRIORITY",
						"type": "varchar"
					},
					{
						"name": "ABERTURA",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "RESOLUCAO",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "ULTIMA ACAO",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "ULTIMO ANALISTA",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "REABERTURA",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "% SLA",
						"type": "float",
						"precision": 15
					},
					{
						"name": "TEMPO SOLUCAO (H)",
						"type": "float",
						"precision": 15
					},
					{
						"name": "SITUACAO",
						"type": "varchar"
					},
					{
						"name": "SITUACAO SLA",
						"type": "varchar"
					},
					{
						"name": "UNIDADE ATENDIMENTO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "REQUESTIA_REQUESTS"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CloudTasyProd')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('CloudTasyProd_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CloudTasyProd_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('CloudTasyProd_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Folder_Nexcore_Consolidado')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Folder onde são colocados os arquivos coletados do FTP Nexcore. Script agendado para execução diária no host 10.47.251.10",
				"annotations": [],
				"type": "FileServer",
				"typeProperties": {
					"host": "[parameters('Folder_Nexcore_Consolidado_properties_typeProperties_host')]",
					"userId": "[parameters('Folder_Nexcore_Consolidado_properties_typeProperties_userId')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('Folder_Nexcore_Consolidado_password')]"
					}
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Folder_Requestia')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "FileServer",
				"typeProperties": {
					"host": "[parameters('Folder_Requestia_properties_typeProperties_host')]",
					"userId": "[parameters('Folder_Requestia_properties_typeProperties_userId')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('Folder_Requestia_password')]"
					}
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMARTProd')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMARTProd_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_HOSL')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_HOSL_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_HOSL_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_HOSL_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_INOB')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_INOB_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_INOB_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_INOB_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_IOF')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_IOF_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_IOF_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_IOF_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_ITABUNA')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_ITABUNA_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_ITABUNA_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_ITABUNA_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMART_ITAIGARA_NEW')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SMART_ITAIGARA_NEW_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ServidorArquivosBI",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SadallaSeniorProd')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('SadallaSeniorProd_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SadallaSeniorTeste')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('SadallaSeniorTeste_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		}
	]
}